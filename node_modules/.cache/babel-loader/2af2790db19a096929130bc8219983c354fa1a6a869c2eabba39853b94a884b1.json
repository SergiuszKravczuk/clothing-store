{"ast":null,"code":"import _slicedToArray from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var addCartItem=function addCartItem(cartItems,productToAdd){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===productToAdd.id;});if(existingCartItem){return cartItems.map(function(cartItem){return cartItem.id===productToAdd.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem;});}return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})]);};var removeCartItem=function removeCartItem(cartItems,cartItemToRemove){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===cartItemToRemove.id;});if(existingCartItem.quantity===1){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});}return cartItems.map(function(cartItem){return cartItem.id===cartItemToRemove.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity-1}):cartItem;});};var clearCartItem=function clearCartItem(cartItems,cartItemToRemove){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});};export var CartContext=/*#__PURE__*/createContext({isCartOpen:false,setIsCartOpen:function setIsCartOpen(){},cartItems:[],addItemToCart:function addItemToCart(){},removeItemFromCArt:function removeItemFromCArt(){},clearItemFromCart:function clearItemFromCart(){},cartCount:0,cartTotal:0});export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCartOpen=_useState2[0],setIsCartOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartCount=_useState6[0],setCartCount=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),cartTotal=_useState8[0],setCartTotal=_useState8[1];var addItemToCart=function addItemToCart(productToAdd){setCartItems(addCartItem(cartItems,productToAdd));};var removeItemFromCart=function removeItemFromCart(cartItemToRemove){setCartItems(removeCartItem(cartItems,cartItemToRemove));};var clearItemFromCart=function clearItemFromCart(cartItemToRemove){setCartItems(clearCartItem(cartItems,cartItemToRemove));};var value={isCartOpen:isCartOpen,setIsCartOpen:setIsCartOpen,addItemToCart:addItemToCart,cartItems:cartItems,cartCount:cartCount,removeItemFromCart:removeItemFromCart,clearItemFromCart:clearItemFromCart,cartTotal:cartTotal};useEffect(function(){var newCartCount=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity;},0);setCartCount(newCartCount);},[cartItems]);useEffect(function(){var newCartTotal=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity*cartItem.price;},0);setCartTotal(newCartTotal);},[cartItems]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["createContext","useState","useEffect","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","quantity","removeCartItem","cartItemToRemove","filter","clearCartItem","CartContext","isCartOpen","setIsCartOpen","addItemToCart","removeItemFromCArt","clearItemFromCart","cartCount","cartTotal","CartProvider","children","setCartItems","setCartCount","setCartTotal","removeItemFromCart","value","newCartCount","reduce","total","newCartTotal","price"],"sources":["/home/serhii/Documents/Projects/clothing-store/src/contexts/cart.context.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nconst addCartItem = (cartItems, productToAdd) => {\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.id === productToAdd.id\n  );\n  if (existingCartItem) {\n    return cartItems.map((cartItem) =>\n      cartItem.id === productToAdd.id\n        ? { ...cartItem, quantity: cartItem.quantity + 1 }\n        : cartItem\n    );\n  }\n  return [...cartItems, { ...productToAdd, quantity: 1 }];\n};\n\nconst removeCartItem = (cartItems, cartItemToRemove) => {\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.id === cartItemToRemove.id\n  );\n  if (existingCartItem.quantity === 1) {\n    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\n  }\n\n  return cartItems.map((cartItem) =>\n    cartItem.id === cartItemToRemove.id\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\n      : cartItem\n  );\n};\nconst clearCartItem = (cartItems, cartItemToRemove) => {\n  return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\n};\n\nexport const CartContext = createContext({\n  isCartOpen: false,\n  setIsCartOpen: () => {},\n  cartItems: [],\n  addItemToCart: () => {},\n  removeItemFromCArt: () => {},\n  clearItemFromCart: () => {},\n  cartCount: 0,\n  cartTotal: 0,\n});\n\nexport const CartProvider = ({ children }) => {\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [cartTotal, setCartTotal] = useState(0);\n\n  const addItemToCart = (productToAdd) => {\n    setCartItems(addCartItem(cartItems, productToAdd));\n  };\n\n  const removeItemFromCart = (cartItemToRemove) => {\n    setCartItems(removeCartItem(cartItems, cartItemToRemove));\n  };\n\n  const clearItemFromCart = (cartItemToRemove) => {\n    setCartItems(clearCartItem(cartItems, cartItemToRemove));\n  };\n\n  const value = {\n    isCartOpen,\n    setIsCartOpen,\n    addItemToCart,\n    cartItems,\n    cartCount,\n    removeItemFromCart,\n    clearItemFromCart,\n    cartTotal,\n  };\n\n  useEffect(() => {\n    const newCartCount = cartItems.reduce(\n      (total, cartItem) => total + cartItem.quantity,\n      0\n    );\n    setCartCount(newCartCount);\n  }, [cartItems]);\n\n  useEffect(() => {\n    const newCartTotal = cartItems.reduce(\n      (total, cartItem) => total + cartItem.quantity * cartItem.price,\n      0\n    );\n    setCartTotal(newCartTotal);\n  }, [cartItems]);\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}