{"ast":null,"code":"import _slicedToArray from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState,useEffect}from\"react\";import{onAuthStateChangedListener,createUserDocumentFromAuth}from\"../utils/firebase/firebase.utils\";// as the actual value you want to access\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext({currentUser:null,setCurrentUser:function setCurrentUser(){return null;}});export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var value={currentUser:currentUser,setCurrentUser:setCurrentUser};useEffect(function(){var unsubscribe=onAuthStateChangedListener(function(user){if(user){createUserDocumentFromAuth(user);}setCurrentUser(user);});return unsubscribe;},[]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["createContext","useState","useEffect","onAuthStateChangedListener","createUserDocumentFromAuth","UserContext","currentUser","setCurrentUser","UserProvider","children","value","unsubscribe","user"],"sources":["/home/serhii/Documents/Projects/clothing-store/src/contexts/user.context.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport {\n  onAuthStateChangedListener,\n  createUserDocumentFromAuth,\n} from \"../utils/firebase/firebase.utils\";\n\n// as the actual value you want to access\nexport const UserContext = createContext({\n  currentUser: null,\n  setCurrentUser: () => null,\n});\n\nexport const UserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const value = { currentUser, setCurrentUser };\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChangedListener((user) => {\n      if (user) {\n        createUserDocumentFromAuth(user);\n      }\n      setCurrentUser(user);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;\n};\n"],"mappings":"oIAAA,OAASA,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OACEC,0BAA0B,CAC1BC,0BAA0B,KACrB,kCAAkC,CAEzC;AAAA,2CACA,MAAO,IAAMC,YAAW,cAAGL,aAAa,CAAC,CACvCM,WAAW,CAAE,IAAI,CACjBC,cAAc,CAAE,gCAAM,KAAI,EAC5B,CAAC,CAAC,CAEF,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAY,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CACrC,cAAsCR,QAAQ,CAAC,IAAI,CAAC,wCAA7CK,WAAW,eAAEC,cAAc,eAClC,GAAMG,MAAK,CAAG,CAAEJ,WAAW,CAAXA,WAAW,CAAEC,cAAc,CAAdA,cAAe,CAAC,CAE7CL,SAAS,CAAC,UAAM,CACd,GAAMS,YAAW,CAAGR,0BAA0B,CAAC,SAACS,IAAI,CAAK,CACvD,GAAIA,IAAI,CAAE,CACRR,0BAA0B,CAACQ,IAAI,CAAC,CAClC,CACAL,cAAc,CAACK,IAAI,CAAC,CACtB,CAAC,CAAC,CAEF,MAAOD,YAAW,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAO,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAED,KAAM,UAAED,QAAQ,EAAwB,CAC9E,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}