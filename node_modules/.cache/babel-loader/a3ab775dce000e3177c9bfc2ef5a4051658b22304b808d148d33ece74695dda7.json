{"ast":null,"code":"import _regeneratorRuntime from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/serhii/Documents/Projects/clothing-store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{signInAuthUserWithEmailAndPassword,signInWithGooglePopup}from\"../../utils/firebase/firebase.utils\";import FormInput from\"../form-input/form-input.component\";import{SingInContainer}from\"./sign-in.style\";import Button,{BUTTON_TYPES_CLASSES}from\"../button/button.component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={email:\"\",password:\"\"};var SignInForm=function SignInForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var email=formFields.email,password=formFields.password;var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return signInAuthUserWithEmailAndPassword(email,password);case 4:_context.next=18;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);_context.t1=_context.t0.code;_context.next=_context.t1===\"auth/wrong-password\"?11:_context.t1===\"auth/user-not-found\"?13:15;break;case 11:alert(\"incorrect password for email\");return _context.abrupt(\"break\",18);case 13:alert(\"no user associated with this email\");return _context.abrupt(\"break\",18);case 15:alert(\"some error(\");console.log(_context.t0);return _context.abrupt(\"break\",18);case 18:resetFormFields();case 19:case\"end\":return _context.stop();}},_callee,null,[[1,6]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var signInWithGoogle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signInWithGooglePopup();case 2:case\"end\":return _context2.stop();}},_callee2);}));return function signInWithGoogle(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(SingInContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Already have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign in with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Email\",required:true,type:\"email\",onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",required:true,type:\"password\",onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign in\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",buttonType:BUTTON_TYPES_CLASSES.google,onClick:signInWithGoogle,children:\"Google sign in\"})]})]})]});};export default SignInForm;","map":{"version":3,"names":["useState","signInAuthUserWithEmailAndPassword","signInWithGooglePopup","FormInput","SingInContainer","Button","BUTTON_TYPES_CLASSES","defaultFormFields","email","password","SignInForm","formFields","setFormFields","handleChange","event","target","name","value","resetFormFields","handleSubmit","preventDefault","code","alert","console","log","signInWithGoogle","google"],"sources":["/home/serhii/Documents/Projects/clothing-store/src/components/sign-in-form/sign-in-form.component.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport {\n  signInAuthUserWithEmailAndPassword,\n  signInWithGooglePopup,\n} from \"../../utils/firebase/firebase.utils\";\nimport FormInput from \"../form-input/form-input.component\";\nimport { SingInContainer } from \"./sign-in.style\";\nimport Button, { BUTTON_TYPES_CLASSES } from \"../button/button.component\";\n\nconst defaultFormFields = {\n  email: \"\",\n  password: \"\",\n};\n\nconst SignInForm = () => {\n  const [formFields, setFormFields] = useState(defaultFormFields);\n  const { email, password } = formFields;\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormFields({ ...formFields, [name]: value });\n  };\n\n  const resetFormFields = () => {\n    setFormFields(defaultFormFields);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      await signInAuthUserWithEmailAndPassword(email, password);\n    } catch (error) {\n      switch (error.code) {\n        case \"auth/wrong-password\":\n          alert(\"incorrect password for email\");\n          break;\n\n        case \"auth/user-not-found\":\n          alert(\"no user associated with this email\");\n          break;\n\n        default:\n          alert(`some error(`);\n          console.log(error);\n          break;\n      }\n    }\n    resetFormFields();\n  };\n\n  const signInWithGoogle = async () => {\n    await signInWithGooglePopup();\n  };\n\n  return (\n    <SingInContainer>\n      <h2>Already have an account?</h2>\n      <span>Sign in with your email and password</span>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          label=\"Email\"\n          required\n          type=\"email\"\n          onChange={handleChange}\n          name=\"email\"\n          value={email}\n        />\n\n        <FormInput\n          label=\"Password\"\n          required\n          type=\"password\"\n          onChange={handleChange}\n          name=\"password\"\n          value={password}\n        />\n        <div className=\"buttons-container\">\n          <Button type=\"submit\">Sign in</Button>\n          <Button\n            type=\"button\"\n            buttonType={BUTTON_TYPES_CLASSES.google}\n            onClick={signInWithGoogle}\n          >\n            Google sign in\n          </Button>\n        </div>\n      </form>\n    </SingInContainer>\n  );\n};\n\nexport default SignInForm;\n"],"mappings":"qqBAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OACEC,kCAAkC,CAClCC,qBAAqB,KAChB,qCAAqC,CAC5C,MAAOC,UAAS,KAAM,oCAAoC,CAC1D,OAASC,eAAe,KAAQ,iBAAiB,CACjD,MAAOC,OAAM,EAAIC,oBAAoB,KAAQ,4BAA4B,CAAC,wFAE1E,GAAMC,kBAAiB,CAAG,CACxBC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvB,cAAoCV,QAAQ,CAACO,iBAAiB,CAAC,wCAAxDI,UAAU,eAAEC,aAAa,eAChC,GAAQJ,MAAK,CAAeG,UAAU,CAA9BH,KAAK,CAAEC,QAAQ,CAAKE,UAAU,CAAvBF,QAAQ,CAEvB,GAAMI,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9B,kBAAwBA,KAAK,CAACC,MAAM,CAA5BC,IAAI,eAAJA,IAAI,CAAEC,KAAK,eAALA,KAAK,CACnBL,aAAa,gCAAMD,UAAU,wBAAGK,IAAI,CAAGC,KAAK,GAAG,CACjD,CAAC,CAED,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5BN,aAAa,CAACL,iBAAiB,CAAC,CAClC,CAAC,CAED,GAAMY,aAAY,4FAAG,iBAAOL,KAAK,mHAC/BA,KAAK,CAACM,cAAc,EAAE,CAAC,sCAGfnB,mCAAkC,CAACO,KAAK,CAAEC,QAAQ,CAAC,mGAEjD,YAAMY,IAAI,6BACX,qBAAqB,kBAIrB,qBAAqB,qBAHxBC,KAAK,CAAC,8BAA8B,CAAC,CAAC,2CAItCA,KAAK,CAAC,oCAAoC,CAAC,CAAC,2CAI5CA,KAAK,eAAe,CACpBC,OAAO,CAACC,GAAG,aAAO,CAAC,2CAIzBN,eAAe,EAAE,CAAC,mEACnB,kBAtBKC,aAAY,4CAsBjB,CAED,GAAMM,iBAAgB,6FAAG,gKACjBvB,sBAAqB,EAAE,wDAC9B,kBAFKuB,iBAAgB,2CAErB,CAED,mBACE,MAAC,eAAe,yBACd,oBAAI,0BAAwB,EAAK,cACjC,sBAAM,sCAAoC,EAAO,cACjD,cAAM,QAAQ,CAAEN,YAAa,wBAC3B,KAAC,SAAS,EACR,KAAK,CAAC,OAAO,CACb,QAAQ,MACR,IAAI,CAAC,OAAO,CACZ,QAAQ,CAAEN,YAAa,CACvB,IAAI,CAAC,OAAO,CACZ,KAAK,CAAEL,KAAM,EACb,cAEF,KAAC,SAAS,EACR,KAAK,CAAC,UAAU,CAChB,QAAQ,MACR,IAAI,CAAC,UAAU,CACf,QAAQ,CAAEK,YAAa,CACvB,IAAI,CAAC,UAAU,CACf,KAAK,CAAEJ,QAAS,EAChB,cACF,aAAK,SAAS,CAAC,mBAAmB,wBAChC,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,UAAC,SAAO,EAAS,cACtC,KAAC,MAAM,EACL,IAAI,CAAC,QAAQ,CACb,UAAU,CAAEH,oBAAoB,CAACoB,MAAO,CACxC,OAAO,CAAED,gBAAiB,UAC3B,gBAED,EAAS,GACL,GACD,GACS,CAEtB,CAAC,CAED,cAAef,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}